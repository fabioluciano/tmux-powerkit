---
on:
  push:
    branches:
      - main
  pull_request:
    types: [opened, synchronize]

name: "Trigger: Push action"

jobs:
  shellcheck:
    name: Shellcheck
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
        with:
          submodules: false
      - name: Run ShellCheck
        uses: ludeeus/action-shellcheck@master
        continue-on-error: true
        with:
          # Only fail on ShellCheck 'error' severity to allow warnings during refactor
          shellcheck_options: "--format=gcc --severity=error"
          check_together: "yes"
          ignore_paths: wiki
          # PowerKit v2 structure
          paths: |
            src/core/*.sh
            src/utils/*.sh
            src/contract/*.sh
            src/renderer/*.sh
            src/plugins/*.sh
            src/helpers/*.sh
            src/themes/**/*.sh
            bin/*
            tests/*.sh
